<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Launcher</title>
</head>
<body>
    <h1>Slimer Game Launcher</h1>

    <div id="update-info" style="display:none;">
        <h2>Nová verze je k dispozici!</h2>
        <p id="version-description"></p>
        <button id="download-btn">Stáhnout aktualizaci</button>
    </div>

    <div id="game-ready" style="display:none;">
        <h2>Hra je připravena!</h2>
        <button id="start-btn">Spustit hru</button>
    </div>

    <script>
        const { ipcRenderer } = require('electron');

        // Posluchač pro zobrazení informace o aktualizaci
        ipcRenderer.on('show-update-info', (event, updateInfo) => {
            console.log('Zobrazujeme informace o aktualizaci:', updateInfo);  // Ověření, že data přicházejí správně
            document.getElementById('update-info').style.display = 'block';
            document.getElementById('version-description').innerText = updateInfo.description;
            document.getElementById('download-btn').onclick = function() {
                ipcRenderer.send('download-update', updateInfo.latestVersion);
            };
        });

        // Posluchač pro připravenost hry
        ipcRenderer.on('game-ready', (event, message) => {
            console.log('Hra je připravena:', message);  // Ověření, že zpráva o připravenosti hry dorazí
            document.getElementById('game-ready').style.display = 'block';
            document.getElementById('start-btn').onclick = function() {
                ipcRenderer.send('start-game');
            };
        });
        
    </script>
</body>
<style>
    #update-info, #game-ready {
        display: none;
    }
</style>

</html>
